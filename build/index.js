(()=>{"use strict";var e,s={469:(e,s,r)=>{const t=window.wp.i18n,n=window.wp.element,a=window.wp.components,o=window.ReactJSXRuntime,d=({settings:e,onToggleChange:s,onSaveSettings:r,isSaving:n,strings:d})=>(0,o.jsxs)(a.Card,{children:[(0,o.jsx)(a.CardHeader,{children:(0,o.jsx)("h2",{children:(0,t.__)("General Settings","wordpress-mcp")})}),(0,o.jsxs)(a.CardBody,{children:[(0,o.jsx)("div",{className:"setting-row",children:(0,o.jsx)(a.ToggleControl,{label:d.enableMcp||(0,t.__)("Enable MCP functionality","wordpress-mcp"),help:d.enableMcpDescription||(0,t.__)("Toggle to enable or disable the MCP plugin functionality.","wordpress-mcp"),checked:e.enabled,onChange:()=>s("enabled")})}),(0,o.jsx)("div",{className:"setting-row",children:(0,o.jsx)(a.ToggleControl,{label:d.enableFeaturesAdapter||(0,t.__)("Enable WordPress Features Adapter","wordpress-mcp"),help:d.enableFeaturesAdapterDescription||(0,t.__)("Enable or disable the WordPress Features Adapter. This option only works when MCP is enabled.","wordpress-mcp"),checked:e.features_adapter_enabled,onChange:()=>s("features_adapter_enabled"),disabled:!e.enabled})})]}),(0,o.jsx)(a.CardFooter,{children:(0,o.jsx)(a.Button,{variant:"primary",onClick:r,isBusy:n,disabled:n,className:"button button-primary",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Spinner,{}),(0,t.__)("Saving...","wordpress-mcp")]}):d.saveSettings||(0,t.__)("Save Settings","wordpress-mcp")})})]}),i=window.wp.apiFetch;var c=r.n(i);const l=()=>{const[e,s]=(0,n.useState)([]),[r,d]=(0,n.useState)(!0),[i,l]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{try{d(!0);const e=await c()({path:"/wp/v2/wpmcp",method:"POST",data:{jsonrpc:"2.0",method:"tools/list",params:{}}});e&&e.tools?s(e.tools):l((0,t.__)("Failed to load tools data","wordpress-mcp"))}catch(e){l((0,t.__)("Error loading tools: ","wordpress-mcp")+e.message)}finally{d(!1)}})()}),[]),(0,o.jsxs)(a.Card,{children:[(0,o.jsx)(a.CardHeader,{children:(0,o.jsx)("h2",{children:(0,t.__)("Registered Tools","wordpress-mcp")})}),(0,o.jsxs)(a.CardBody,{children:[(0,o.jsx)("p",{children:(0,t.__)("List of all registered tools in the system.","wordpress-mcp")}),r?(0,o.jsxs)("div",{className:"wordpress-mcp-loading",children:[(0,o.jsx)(a.Spinner,{}),(0,o.jsx)("p",{children:(0,t.__)("Loading tools...","wordpress-mcp")})]}):i?(0,o.jsx)("div",{className:"wordpress-mcp-error",children:(0,o.jsx)("p",{children:i})}):0===e.length?(0,o.jsx)("p",{children:(0,t.__)("No tools are currently registered.","wordpress-mcp")}):(0,o.jsxs)("table",{className:"wordpress-mcp-tools-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,t.__)("Name","wordpress-mcp")}),(0,o.jsx)("th",{children:(0,t.__)("Description","wordpress-mcp")})]})}),(0,o.jsx)("tbody",{children:e.map((e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:e.name})}),(0,o.jsx)("td",{children:e.description})]},e.name)))})]})]})]})},p=()=>{const[e,s]=(0,n.useState)([]),[r,d]=(0,n.useState)(!0),[i,l]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{try{d(!0);const e=await c()({path:"/wp/v2/wpmcp",method:"POST",data:{jsonrpc:"2.0",method:"resources/list",params:{}}});e&&e.resources?s(e.resources):l((0,t.__)("Failed to load resources data","wordpress-mcp"))}catch(e){l((0,t.__)("Error loading resources: ","wordpress-mcp")+e.message)}finally{d(!1)}})()}),[]),(0,o.jsxs)(a.Card,{children:[(0,o.jsx)(a.CardHeader,{children:(0,o.jsx)("h2",{children:(0,t.__)("Available Resources","wordpress-mcp")})}),(0,o.jsxs)(a.CardBody,{children:[(0,o.jsx)("p",{children:(0,t.__)("List of all available resources in the system.","wordpress-mcp")}),r?(0,o.jsxs)("div",{className:"wordpress-mcp-loading",children:[(0,o.jsx)(a.Spinner,{}),(0,o.jsx)("p",{children:(0,t.__)("Loading resources...","wordpress-mcp")})]}):i?(0,o.jsx)("div",{className:"wordpress-mcp-error",children:(0,o.jsx)("p",{children:i})}):0===e.length?(0,o.jsx)("p",{children:(0,t.__)("No resources are currently available.","wordpress-mcp")}):(0,o.jsxs)("table",{className:"wordpress-mcp-resources-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,t.__)("Name","wordpress-mcp")}),(0,o.jsx)("th",{children:(0,t.__)("URI","wordpress-mcp")}),(0,o.jsx)("th",{children:(0,t.__)("Description","wordpress-mcp")})]})}),(0,o.jsx)("tbody",{children:e.map((e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:e.name})}),(0,o.jsx)("td",{children:e.uri}),(0,o.jsx)("td",{children:e.description||"-"})]},e.name)))})]})]})]})},m=()=>{const[e,s]=(0,n.useState)({enabled:!1,features_adapter_enabled:!1}),[r,i]=(0,n.useState)(!1),[c,m]=(0,n.useState)(null);(0,n.useEffect)((()=>{window.wordpressMcpSettings&&window.wordpressMcpSettings.settings&&s(window.wordpressMcpSettings.settings)}),[]);const h=e=>{s((s=>({...s,[e]:!s[e]})))},w=()=>{i(!0),m(null);const s=new FormData;s.append("action","wordpress_mcp_save_settings"),s.append("nonce",window.wordpressMcpSettings.nonce),s.append("settings",JSON.stringify(e)),fetch(ajaxurl,{method:"POST",body:s,credentials:"same-origin"}).then((e=>e.json())).then((e=>{i(!1),e.success?m({status:"success",message:e.data.message||window.wordpressMcpSettings.strings.settingsSaved}):m({status:"error",message:e.data.message||window.wordpressMcpSettings.strings.settingsError})})).catch((e=>{i(!1),m({status:"error",message:window.wordpressMcpSettings.strings.settingsError}),console.error("Error saving settings:",e)}))},g=window.wordpressMcpSettings?window.wordpressMcpSettings.strings:{},u=[{name:"settings",title:(0,t.__)("Settings","wordpress-mcp"),className:"wordpress-mcp-settings-tab"},{name:"tools",title:(0,t.__)("Tools","wordpress-mcp"),className:"wordpress-mcp-tools-tab"},{name:"resources",title:(0,t.__)("Resources","wordpress-mcp"),className:"wordpress-mcp-resources-tab"}];return(0,o.jsxs)("div",{className:"wordpress-mcp-settings",children:[c&&(0,o.jsx)(a.Notice,{status:c.status,isDismissible:!0,onRemove:()=>m(null),className:`notice notice-${c.status} is-dismissible`,children:c.message}),(0,o.jsx)(a.TabPanel,{className:"wordpress-mcp-tabs",tabs:u,children:s=>{switch(s.name){case"settings":return(0,o.jsx)(d,{settings:e,onToggleChange:h,onSaveSettings:w,isSaving:r,strings:g});case"tools":return(0,o.jsx)(l,{});case"resources":return(0,o.jsx)(p,{});default:return null}}})]})};document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("wordpress-mcp-settings-app");e&&(0,n.createRoot)(e).render((0,o.jsx)(m,{}))})),render((0,o.jsx)(m,{}),document.getElementById("wordpress-mcp-settings"))}},r={};function t(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return s[e](a,a.exports,t),a.exports}t.m=s,e=[],t.O=(s,r,n,a)=>{if(!r){var o=1/0;for(l=0;l<e.length;l++){for(var[r,n,a]=e[l],d=!0,i=0;i<r.length;i++)(!1&a||o>=a)&&Object.keys(t.O).every((e=>t.O[e](r[i])))?r.splice(i--,1):(d=!1,a<o&&(o=a));if(d){e.splice(l--,1);var c=n();void 0!==c&&(s=c)}}return s}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,n,a]},t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,350:0};t.O.j=s=>0===e[s];var s=(s,r)=>{var n,a,[o,d,i]=r,c=0;if(o.some((s=>0!==e[s]))){for(n in d)t.o(d,n)&&(t.m[n]=d[n]);if(i)var l=i(t)}for(s&&s(r);c<o.length;c++)a=o[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(l)},r=globalThis.webpackChunkwordpress_mcp=globalThis.webpackChunkwordpress_mcp||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))})();var n=t.O(void 0,[350],(()=>t(469)));n=t.O(n)})();